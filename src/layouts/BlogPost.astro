---
import SEO from "../components/SEO.astro";
import Analytics from "../components/Analytics.astro";

export interface Props {
  title: string;
  description: string;
  image: string;
  publishDate: string;
}

const { title, description, image, publishDate } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />

    <SEO title={title} description={description} image={image} type="article" publishDate={publishDate} />

    <Analytics />
  </head>
  <body class="bg-background text-foreground font-sans leading-relaxed">
    <header class="border-b border-gray-700 bg-surface">
      <nav class="max-w-6xl mx-auto p-4">
        <a
          href="/"
          class="inline-flex items-center gap-2 text-primary hover:text-white transition-colors duration-200 font-medium"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
          Home
        </a>
      </nav>
    </header>

    <main class="max-w-4xl mx-auto p-8">
      <article class="bg-white rounded-xl overflow-hidden shadow-2xl">
        <header class="relative">
          <img src={image} alt={title} class="w-full h-64 md:h-80 object-cover" />
          <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
          <div class="absolute bottom-0 left-0 right-0 p-8 text-white">
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4 leading-tight">
              {title}
            </h1>
            <p class="text-lg md:text-xl text-gray-200 mb-4 leading-relaxed">
              {description}
            </p>
            <time datetime={publishDate} class="text-sm text-gray-300 font-medium bg-black/30 px-3 py-1 rounded-full">
              {publishDate}
            </time>
          </div>
        </header>

        <div class="content p-8 md:p-12">
          <slot />
        </div>
      </article>
    </main>

    <style>
      :root {
        /* Colors - Match homepage theme */
        --color-background: #0f0f0f;
        --color-surface: #1a1a1a;
        --color-foreground: #ffffff;
        --color-muted: #c5c5c5;
        --color-primary: #4a9eff;
      }

      body {
        background-color: var(--color-background);
        color: var(--color-foreground);
      }

      .content {
        line-height: 1.8;
        color: #333;
      }

      .content h1,
      .content h2,
      .content h3,
      .content h4,
      .content h5,
      .content h6 {
        color: #1f2937;
        margin-top: 2.5rem;
        margin-bottom: 1rem;
        font-weight: 600;
      }

      .content h1 {
        font-size: 2.25rem;
        border-bottom: 2px solid #e5e7eb;
        padding-bottom: 0.5rem;
      }

      .content h2 {
        font-size: 1.875rem;
      }

      .content h3 {
        font-size: 1.5rem;
      }

      .content p {
        margin-bottom: 1.5rem;
        color: #4b5563;
      }

      .content a {
        color: #3b82f6;
        text-decoration: underline;
        text-underline-offset: 2px;
      }

      .content a:hover {
        color: #1d4ed8;
      }

      .content ul,
      .content ol {
        margin-bottom: 1.5rem;
        padding-left: 1.5rem;
      }

      .content li {
        margin-bottom: 0.5rem;
        color: #4b5563;
      }

      .content blockquote {
        border-left: 4px solid #3b82f6;
        padding-left: 1rem;
        margin: 1.5rem 0;
        font-style: italic;
        color: #6b7280;
        background: #f9fafb;
        padding: 1rem 1rem 1rem 2rem;
        border-radius: 0 0.375rem 0.375rem 0;
      }

      .content pre {
        background: #1f2937;
        color: #f9fafb;
        padding: 1.5rem;
        border-radius: 0.5rem;
        overflow-x: auto;
        margin: 1.5rem 0;
        font-size: 0.875rem;
        line-height: 1.6;
      }

      .content code {
        background: #f3f4f6;
        color: #1f2937;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        font-family: "SF Mono", "Monaco", "Cascadia Code", "Roboto Mono", "Courier New", monospace;
        font-size: 0.875rem;
      }

      .content pre code {
        background: none;
        color: inherit;
        padding: 0;
        border-radius: 0;
      }

      .content img {
        max-width: 100%;
        height: auto;
        border-radius: 0.5rem;
        margin: 1.5rem 0;
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
      }

      .content table {
        width: 100%;
        border-collapse: collapse;
        margin: 1.5rem 0;
        border-radius: 0.5rem;
        overflow: hidden;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .content th,
      .content td {
        padding: 0.75rem 1rem;
        text-align: left;
        border-bottom: 1px solid #e5e7eb;
      }

      .content th {
        background: #f9fafb;
        font-weight: 600;
        color: #1f2937;
      }

      .content td {
        color: #4b5563;
      }
    </style>
  </body>
</html>
